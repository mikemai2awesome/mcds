---
interface Props {
  title: string;
  siteName?: string;
}

const { title, siteName = "MCDS" } = Astro.props;
const currentPath = Astro.url.pathname;
const isIndexPage = currentPath === "/" || currentPath === "";

// Helper function to check if a link is the current page
const isCurrentPage = (href: string) => currentPath === href;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title} - {siteName}</title>
    <meta
      name="description"
      content="A design system built with Astro, MCSS, semantic HTML, and vanilla JavaScript."
    />
    <meta name="generator" content={Astro.generator} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body>
    <header class="hero">
      {
        isIndexPage ? (
          <h1><a href="/">{siteName}</a></h1>
        ) : (
          <p><a href="/">{siteName}</a></p>
        )
      }
      <nav>
        <ul>
          <li><a href="/components/accordion" aria-current={isCurrentPage("/components/accordion") ? "page" : undefined}>Accordion</a></li>
          <li><a href="/components/alert" aria-current={isCurrentPage("/components/alert") ? "page" : undefined}>Alert</a></li>
          <li><a href="/components/combobox" aria-current={isCurrentPage("/components/combobox") ? "page" : undefined}>Combobox</a></li>
          <li><a href="/components/dialog" aria-current={isCurrentPage("/components/dialog") ? "page" : undefined}>Dialog</a></li>
          <li><a href="/components/feed" aria-current={isCurrentPage("/components/feed") ? "page" : undefined}>Feed</a></li>
          <li>
            <a href="/components/popup-nav" aria-current={isCurrentPage("/components/popup-nav") ? "page" : undefined}>Popup Nav</a>
          </li>
          <li><a href="/components/switch" aria-current={isCurrentPage("/components/switch") ? "page" : undefined}>Switch</a></li>
          <li><a href="/components/tabs" aria-current={isCurrentPage("/components/tabs") ? "page" : undefined}>Tabs</a></li>
        </ul>
      </nav>
    </header>
    <hr>
    <main class="doc-main">
      <slot />
    </main>
    <hr>
    <footer>
      <p><em>The design system is created by <a href="https://mikemai.net">Mike Mai</a> with the help of AI buddy <a href="https://cursor.com">Cursor</a>.</em></p>
    </footer>
  </body>
</html>

<style is:global>
  @import url("../styles/global.css");
</style>
